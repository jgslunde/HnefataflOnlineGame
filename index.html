<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hnefatafl</title>
    <link rel="stylesheet" href="styles.css">  <!-- Linking the stylesheet here -->
    <link rel="icon" href="/HnefataflOnlineGame/favicon.ico" type="image/x-icon">
</head>


<body>
    <div id="board-and-players">
        <table>
            <tbody id="board"></tbody>
        </table>
        
        <div id="player-names">
            <div id="defender-label">Defender:<br>AI</div>
            <div id="AI-eval" class="hidden"> AI eval:<br>0</div>
            <div id="attacker-label" class="active-player">Attacker:<br>Human</div>
        </div>

        <div id="helpText" class="hidden">
            <!-- <span id="helpText"> -->
                <div style=" padding-right:20px;">
                    Rules:
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    Misc:
                </div>
                <div style="font-size:2vh;">
                    - All pieces (king included) move like rooks in chess, horizontally or vertically as far as they want.<br>
                    - The attackers (black) win by capturing the white king (the white square).<br>
                    - The defenders (white) win by escaping with the king to one of the four corners.<br>
                    - Both sides (king included) captures enemy pieces by, through a move, squizing them in between two of your pieces (horizontally or vertically).<br>
                    - The four corners can only be occupied by the king, and can also be used as an allied piece in a capture.<br>
                    <br>
                    <br>
                    - There should be a threefold repetition rule, but it's not implemented.<br>
                    - "AI difficulty" decides how many moves ahead the Hnefatafl AI engine sees. It does the same for the AI evaluation, if "Toggle AI eval" is turned on.<br>
                    - For "Very Hard", the browser may become unresponsive for a little bit, both for AI play, and AI evaulation.
                </div>
            <!-- </span> -->
        </div>

        <div id="overlay" class="hidden">
            <span id="winMessage"></span>
        </div>
    </div>
        
    <div id="buttons-container">
        <!-- Attacker Player Selection -->
        <div id="player-config-container">
            <div style="font-size:1.8vh; font-family:monospace; margin-bottom: 5px;">Attacker</div>
            <select id="attacker-type">
                <option value="human">Human</option>
                <option value="tree-search">AI (Traditional)</option>
                <option value="mcts">AI (Neural Network)</option>
            </select>
            <div id="attacker-difficulty-container" class="hidden" style="margin-top: 5px;">
                <select id="attacker-difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                    <option value="veryhard">Very Hard</option>
                </select>
            </div>
        </div>

        <!-- Defender Player Selection -->
        <div id="player-config-container">
            <div style="font-size:1.8vh; font-family:monospace; margin-bottom: 5px;">Defender</div>
            <select id="defender-type">
                <option value="human" selected>Human</option>
                <option value="tree-search">AI (Traditional)</option>
                <option value="mcts">AI (Neural Network)</option>
            </select>
            <div id="defender-difficulty-container" class="hidden" style="margin-top: 5px;">
                <select id="defender-difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                    <option value="veryhard">Very Hard</option>
                </select>
            </div>
        </div>

        <!-- AI Evaluation Options -->
        <div id="player-config-container">
            <div style="font-size:1.8vh; font-family:monospace; margin-bottom: 5px;">AI eval:</div>
            <select id="eval-mode-select">
                <option value="off" selected>Off</option>
                <option value="heuristic">Heuristics</option>
                <option value="nn">NN</option>
                <option value="nn-mcts">NN (MCTS)</option>
            </select>
        </div>

        <!-- Move Suggestions Options -->
        <div id="player-config-container">
            <div style="font-size:1.8vh; font-family:monospace; margin-bottom: 5px;">Move suggestions:</div>
            <select id="policy-mode-select">
                <option value="off" selected>Off</option>
                <option value="heuristic">Heuristics</option>
                <option value="nn">NN</option>
                <option value="nn-mcts">NN (MCTS)</option>
            </select>
        </div>

        <div id="help-container">
            <button id="undo-btn">Undo</button>
            <button id="restart-btn">Restart</button>
            <button id="help-btn">Help</button>
        </div>
    </div>

    <!-- ONNX Runtime Web for neural network inference -->
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web@1.20.1/dist/ort.min.js"></script>
    <!-- MCTS modules -->
    <script src="moveEncoder.js"></script>
    <script src="mcts.js"></script>
    <script src="mctsAgent.js"></script>
    
    <!-- Existing AI and game logic -->
    <script src="Cpp_ai.js"></script>
    <script src="script.js"></script>
</body>

</html>